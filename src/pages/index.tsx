import Head from "next/head";
import { useState } from "react";
import MatchaDish from "@/components/bodies/MatchaDish";
import MyPage from "@/components/bodies/MyPage";
import MatchaDishRegistration from "@/components/bodies/MatchaDishRegistration";
import Map from "@/components/bodies/Map";
import BottomBarIcon from "@/components/uiComponents/Buttons/BottomBarIcon";

export default function Home() {
  const [selected, setSelected] = useState("抹茶料理一覧");
  const handleNavClick = (newValue: string) => {
    setSelected(newValue);
  };
  /*

ホームページ(home)
├─抹茶料理一覧ページ(MatchaDish)
├─マイページ(MyPage)
│ └─プロフィール編集ページ(ProfileEdit)
├─抹茶料理登録ページ(MatchaDishRegistration)
├─地図(Map)
└─()

  */
  const contents: { [key: string]: JSX.Element } = {
    抹茶料理一覧: <MatchaDish />,
    マイページ: <MyPage />,
    抹茶料理登録: <MatchaDishRegistration />,
    地図: <Map />,
  };

  return (
    <>
      <Head>
        <title>まちゃろぐ</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <header>
        <nav>
          <ul>
            {Object.entries(contents).map(([name]) => {
              const flag = !!name.match(selected);
              return (
                <div key={name} onClick={(_) => handleNavClick(name)}>
                  <li>
                    <span>{name}</span>
                  </li>
                </div>
              );
            })}
          </ul>
        </nav>
      </header>
      <main>{contents[selected]}</main>
      <footer>
        <BottomBarIcon onClick={() => handleNavClick("抹茶料理一覧")}>
          抹茶料理一覧
        </BottomBarIcon>
      </footer>
    </>
  );
}
